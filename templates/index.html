{% extends "base.html" %}

{% block content %}
<!-- Pesta√±a: Subtitular Video -->
<div class="tab-content" id="subtitulos" data-tab="subtitulos">
    <div class="card">
        <div class="card-header">
            <h2>üé• Subtitular Video</h2>
            <p>Sube un video y genera subt√≠tulos autom√°ticamente con traducci√≥n</p>
        </div>
        <div class="card-body">
            <form id="videoForm" enctype="multipart/form-data">
                <div class="form-group">
                    <label>Seleccionar Video:</label>
                    <div class="file-upload-container">
                        <input type="file" id="videoFile" name="video" accept="video/*" class="file-input" required>
                        <label for="videoFile" class="file-upload-label">
                            <span class="upload-icon">üé¨</span>
                            <span class="upload-text">Seleccionar Video</span>
                        </label>
                        <div class="file-info" id="videoFileInfo" style="display: none;">
                            <span class="file-name"></span>
                            <span class="file-size"></span>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="sourceLang">Idioma del Video:</label>
                        <select id="sourceLang" name="source_lang">
                            <option value="en-US">Ingl√©s (EE.UU.)</option>
                            <option value="en-GB">Ingl√©s (Reino Unido)</option>
                            <option value="es-ES">Espa√±ol (Espa√±a)</option>
                            <option value="es-MX">Espa√±ol (M√©xico)</option>
                            <option value="fr-FR">Franc√©s</option>
                            <option value="de-DE">Alem√°n</option>
                            <option value="it-IT">Italiano</option>
                            <option value="pt-BR">Portugu√©s (Brasil)</option>
                            <option value="pt-PT">Portugu√©s (Portugal)</option>
                            <option value="ja-JP">Japon√©s</option>
                            <option value="ko-KR">Coreano</option>
                            <option value="zh-CN">Chino (Simplificado)</option>
                            <option value="zh-TW">Chino (Tradicional)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="targetLang">Idioma de Traducci√≥n:</label>
                        <select id="targetLang" name="target_lang">
                            <option value="es">Espa√±ol</option>
                            <option value="en">Ingl√©s</option>
                            <option value="fr">Franc√©s</option>
                            <option value="de">Alem√°n</option>
                            <option value="it">Italiano</option>
                            <option value="pt">Portugu√©s</option>
                            <option value="ja">Japon√©s</option>
                            <option value="ko">Coreano</option>
                            <option value="zh">Chino</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="audioQuality">Calidad de Audio:</label>
                        <select id="audioQuality" name="audio_quality">
                            <option value="optimized">Optimizada</option>
                            <option value="high">Alta</option>
                            <option value="medium">Media</option>
                            <option value="low">Baja</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="audioChannels">Canales de Audio:</label>
                        <select id="audioChannels" name="audio_channels">
                            <option value="mono">Mono</option>
                            <option value="stereo">Est√©reo</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="audioOptimization">Optimizaci√≥n de Audio:</label>
                    <select id="audioOptimization" name="audio_optimization">
                        <option value="dialogue">Di√°logo</option>
                        <option value="music">M√∫sica</option>
                        <option value="mixed">Mixto</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="subtitleLength">Longitud de Subt√≠tulos:</label>
                        <select id="subtitleLength" name="subtitleLength">
                            <option value="short">Corta (1-2 l√≠neas)</option>
                            <option value="medium">Media (2-3 l√≠neas)</option>
                            <option value="long">Larga (3+ l√≠neas)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="subtitleDuration">Duraci√≥n de Subt√≠tulos:</label>
                        <select id="subtitleDuration" name="subtitleDuration">
                            <option value="short">Corta (2-3 segundos)</option>
                            <option value="medium">Media (3-5 segundos)</option>
                            <option value="long">Larga (5+ segundos)</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">
                    <span class="btn-icon">üöÄ</span>
                    Procesar Video
                </button>
            </form>

            <!-- Progress Section -->
            <div id="progressSection" class="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">Iniciando procesamiento...</div>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="results-section" style="display: none;">
                <div class="results-header">
                    <h3>üìã Resultados</h3>
                    <button onclick="downloadSubtitles()" class="btn btn-success">
                        <span class="btn-icon">üíæ</span>
                        Descargar Subt√≠tulos
                    </button>
                </div>
                <div class="results-content">
                    <div class="transcript-section">
                        <h4>üìù Transcripci√≥n Original</h4>
                        <div class="transcript-box" id="originalTranscript"></div>
                    </div>
                    <div class="transcript-section">
                        <h4>üåç Transcripci√≥n Traducida</h4>
                        <div class="transcript-box" id="translatedTranscript"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Pesta√±a: Texto a Audio -->
<div class="tab-content active" id="texto-audio" data-tab="texto-audio">
    <div class="card">
        <div class="card-header">
            <h2>üîä Texto a Audio</h2>
            <p>Convierte documentos de texto a audio usando Google Text-to-Speech</p>
        </div>
        <div class="card-body">
            <form id="textToAudioForm" enctype="multipart/form-data">
                <div class="form-group">
                    <label>Seleccionar Archivo de Texto:</label>
                    <div class="file-upload-container">
                        <input type="file" id="textFile" name="text_file" accept=".txt" class="file-input" required>
                        <label for="textFile" class="file-upload-label">
                            <span class="upload-icon">üìÑ</span>
                            <span class="upload-text">Seleccionar Archivo TXT</span>
                        </label>
                        <div class="file-info" id="textFileInfo" style="display: none;">
                            <span class="file-name"></span>
                            <span class="file-size"></span>
                        </div>
                    </div>
                </div>

                <div class="form-row preset-row">
                    <div class="form-group">
                        <label>Preajustes:</label>
                        <div class="preset-buttons">
                            <button type="button" id="preset1" class="btn btn-info">Masculino 1</button>
                            <button type="button" id="preset2" class="btn btn-secondary">Preajuste 2</button>
                            <button type="button" id="preset3" class="btn btn-secondary">Preajuste 3</button>
                            <button type="button" id="preset4" class="btn btn-secondary">Preajuste 4</button>
                            <button type="button" id="savePresetBtn" class="btn btn-primary">Guardar Preajuste</button>
                        </div>
                        <div id="presetModal" class="preset-modal" style="display:none;">
                            <div class="preset-modal-content">
                                <div class="preset-modal-row">
                                    <label for="presetSlot">Guardar en:</label>
                                    <select id="presetSlot">
                                        <option value="1">Preajuste 1</option>
                                        <option value="2">Preajuste 2</option>
                                        <option value="3">Preajuste 3</option>
                                        <option value="4">Preajuste 4</option>
                                    </select>
                                </div>
                                <div class="preset-modal-row">
                                    <label for="presetName">Nombre:</label>
                                    <input type="text" id="presetName" placeholder="Nombre del preajuste" />
                                </div>
                                <div class="preset-modal-actions">
                                    <button type="button" id="presetSaveConfirm" class="btn btn-success">Guardar</button>
                                    <button type="button" id="presetSaveCancel" class="btn btn-secondary">Cancelar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row controls-inline">
                    <div class="form-group">
                        <label for="voiceLanguage">Idioma de la Voz:</label>
                        <select id="voiceLanguage" name="voice_language">
                            <option value="es-ES">Espa√±ol (Espa√±a)</option>
                            <option value="en-US">Ingl√©s (EE.UU.)</option>
                            <option value="en-GB">Ingl√©s (Reino Unido)</option>
                            <option value="fr-FR">Franc√©s</option>
                            <option value="de-DE">Alem√°n</option>
                            <option value="it-IT">Italiano</option>
                            <option value="pt-BR">Portugu√©s (Brasil)</option>
                            <option value="ja-JP">Japon√©s</option>
                            <option value="ko-KR">Coreano</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="voiceGender">G√©nero de la Voz:</label>
                        <select id="voiceGender" name="voice_gender">
                            <option value="female" selected>Femenino</option>
                            <option value="male">Masculino</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="voiceName">Voz:</label>
                        <select id="voiceName" name="voice_name">
                            <option value="">Seleccionar voz...</option>
                        </select>
                    </div>
                </div>

                <div class="form-row controls-inline">
                    <div class="form-group">
                        <label for="audioFormat">Formato de Audio:</label>
                        <select id="audioFormat" name="audio_format">
                            <option value="mp3">MP3</option>
                            <option value="wav">WAV</option>
                            <option value="ogg">OGG</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="voiceStyle">Estilo de Voz:</label>
                        <select id="voiceStyle" name="voice_style">
                            <option value="none" selected>Ninguno</option>
                            <option value="conversational">Conversacional</option>
                            <option value="narrative">Narrativo</option>
                            <option value="news">Noticias</option>
                            <option value="presenter">Presentador</option>
                            <option value="storytelling">Storytelling</option>
                            <option value="enthusiastic">Entusiasta</option>
                            <option value="calm">Sereno</option>
                            <option value="advertising">Publicitario</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="effectsProfileId">Perfil de Audio:</label>
                        <select id="effectsProfileId" name="effects_profile_id">
                            <option value="">Ninguno</option>
                            <option value="headphone-class-device">Auriculares</option>
                            <option value="small-bluetooth-speaker-class-device">Altavoz peque√±o Bluetooth</option>
                            <option value="telephony-class-application">Telefon√≠a</option>
                            <option value="wearable-class-device">Wearable</option>
                            <option value="large-home-entertainment-class-device">Entretenimiento en casa</option>
                            <option value="car-class-device">Coche</option>
                        </select>
                    </div>
                </div>

                <div class="form-row controls-inline">
                    <div class="form-group">
                        <label for="speakingRate">Velocidad de Habla:</label>
                        <div class="numeric-input">
                            <button type="button" id="speakingRateDecrement" class="btn btn-secondary">‚àí</button>
                            <input type="number" id="speakingRate" name="speaking_rate" min="0.25" max="2.0" step="any" value="1.0" class="number-field">
                            <button type="button" id="speakingRateIncrement" class="btn btn-secondary">+</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="pitch">Tono:</label>
                        <div class="numeric-input">
                            <button type="button" id="pitchDecrement" class="btn btn-secondary">‚àí</button>
                            <input type="number" id="pitch" name="pitch" min="-20" max="20" step="0.1" value="0.0" class="number-field">
                            <button type="button" id="pitchIncrement" class="btn btn-secondary">+</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="volumeGainDb">Volumen:</label>
                        <div class="numeric-input">
                            <button type="button" id="volumeGainDecrement" class="btn btn-secondary">‚àí</button>
                            <input type="number" id="volumeGainDb" name="volume_gain_db" min="-16" max="16" step="0.1" value="0.0" class="number-field">
                            <button type="button" id="volumeGainIncrement" class="btn btn-secondary">+</button>
                        </div>
                    </div>
                </div>

                

                <button type="submit" class="btn btn-primary">
                    <span class="btn-icon">üéµ</span>
                    Convertir a Audio
                </button>
            </form>

            <!-- Progress Section -->
            <div id="textProgressSection" class="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="textProgressFill"></div>
                </div>
                <div class="progress-text" id="textProgressText">Procesando texto...</div>
            </div>

            <!-- Results Section -->
            <div id="textResultsSection" class="results-section" style="display: none;">
                <div class="results-header">
                    <h3>üéµ Audio Generado</h3>
                    <button onclick="downloadAudio()" class="btn btn-success">
                        <span class="btn-icon">üíæ</span>
                        Descargar Audio
                    </button>
                </div>
                <div class="results-content">
                    <div class="audio-section">
                        <h4>üîä Reproducir Audio</h4>
                        <div class="audio-player" id="audioPlayer"></div>
                    </div>
                    <div class="text-preview-section">
                        <h4>üìÑ Vista Previa del Texto</h4>
                        <div class="text-preview-box" id="textPreview"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Pesta√±a: Unir Videos -->
<div class="tab-content" id="unir-videos" data-tab="unir-videos">
    <div class="card">
        <div class="card-header">
            <h2>üé¨ Unir Videos</h2>
            <p>Combina hasta 4 videos MP4 en uno solo por orden</p>
        </div>
        <div class="card-body">
            <form id="mergeVideosForm" enctype="multipart/form-data">
                <div class="videos-grid">
                    <div class="video-slot">
                        <div class="file-upload-container">
                            <input type="file" id="video1" name="video1" accept=".mp4" class="file-input">
                            <label for="video1" class="file-upload-label">
                                <span class="upload-icon">üé¨</span>
                                <span class="upload-text">Video 1</span>
                            </label>
                            <div class="file-info" id="video1Info" style="display: none;">
                                <span class="file-name"></span>
                                <span class="file-size"></span>
                            </div>
                        </div>
                    </div>
                    <div class="video-slot">
                        <div class="file-upload-container">
                            <input type="file" id="video2" name="video2" accept=".mp4" class="file-input">
                            <label for="video2" class="file-upload-label">
                                <span class="upload-icon">üé¨</span>
                                <span class="upload-text">Video 2</span>
                            </label>
                            <div class="file-info" id="video2Info" style="display: none;">
                                <span class="file-name"></span>
                                <span class="file-size"></span>
                            </div>
                        </div>
                    </div>
                    <div class="video-slot">
                        <div class="file-upload-container">
                            <input type="file" id="video3" name="video3" accept=".mp4" class="file-input">
                            <label for="video3" class="file-upload-label">
                                <span class="upload-icon">üé¨</span>
                                <span class="upload-text">Video 3</span>
                            </label>
                            <div class="file-info" id="video3Info" style="display: none;">
                                <span class="file-name"></span>
                                <span class="file-size"></span>
                            </div>
                        </div>
                    </div>
                    <div class="video-slot">
                        <div class="file-upload-container">
                            <input type="file" id="video4" name="video4" accept=".mp4" class="file-input">
                            <label for="video4" class="file-upload-label">
                                <span class="upload-icon">üé¨</span>
                                <span class="upload-text">Video 4</span>
                            </label>
                            <div class="file-info" id="video4Info" style="display: none;">
                                <span class="file-name"></span>
                                <span class="file-size"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="outputQuality">Calidad de Salida:</label>
                        <select id="outputQuality" name="output_quality">
                            <option value="4k">Ultra Alta (4K)</option>
                            <option value="1440p">Muy Alta (1440p)</option>
                            <option value="high">Alta (1080p)</option>
                            <option value="medium" selected>Media (720p)</option>
                            <option value="low">Baja (480p)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="outputFormat">Formato de Salida:</label>
                        <select id="outputFormat" name="output_format">
                            <option value="mp4" selected>MP4</option>
                            <option value="avi">AVI</option>
                            <option value="mov">MOV</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="processingMode">Modo de Procesamiento:</label>
                        <select id="processingMode" name="processing_mode">
                            <option value="auto" selected>Autom√°tico (GPU si disponible)</option>
                            <option value="gpu">Forzar GPU (RTX 3060/4070)</option>
                            <option value="cpu">Forzar CPU</option>
                        </select>
                        <small class="form-help">üí° GPU usa H.264 para compatibilidad con navegadores</small>
                    </div>
                    <div class="form-group">
                        <label for="transitionType">Tipo de Transici√≥n:</label>
                        <select id="transitionType" name="transition_type">
                            <option value="none">Sin Transici√≥n</option>
                            <option value="fade">Fade</option>
                            <option value="crossfade">Crossfade</option>
                        </select>
                    </div>
                </div>


                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <span class="btn-icon">üîó</span>
                        Unir Videos
                    </button>
                    <button type="button" onclick="clearVideoSelection()" class="btn btn-secondary">
                        <span class="btn-icon">üóëÔ∏è</span>
                        Limpiar Selecci√≥n
                    </button>
                </div>
            </form>

            <!-- Progress Section -->
            <div id="mergeProgressSection" class="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="mergeProgressFill"></div>
                </div>
                <div class="progress-text" id="mergeProgressText">Procesando videos...</div>
                <div class="processing-info" id="mergeProcessingInfo" style="display: none;">
                    <div class="processing-mode">üñ•Ô∏è Modo: <span id="mergeProcessingModeText"></span></div>
                    <div class="processing-time">‚è±Ô∏è Tiempo: <span id="mergeProcessingTimeText">-</span></div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="mergeResultsSection" class="results-section" style="display: none;">
                <div class="results-header">
                    <h3>üé¨ Video Unido</h3>
                    <button onclick="downloadMergedVideo()" class="btn btn-success">
                        <span class="btn-icon">üíæ</span>
                        Descargar Video
                    </button>
                </div>
                <div class="results-content">
                    <div class="video-section">
                        <h4>üé• Reproducir Video</h4>
                        <div class="video-player" id="mergedVideoPlayer"></div>
                    </div>
                    <div class="video-details-section">
                        <h4>üìä Detalles del Video</h4>
                        <div class="video-details-box" id="mergedVideoDetails"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Pesta√±a: Loop de Video -->
<div class="tab-content" id="loop-video" data-tab="loop-video">
    <div class="card">
        <div class="card-header">
            <h2>üîÑ Loop de Video</h2>
            <p>Repite un video hasta alcanzar la duraci√≥n deseada</p>
        </div>
        <div class="card-body">
            <form id="loopVideoForm" enctype="multipart/form-data">
                <div class="form-group">
                    <label>Seleccionar Video:</label>
                    <div class="file-upload-container">
                        <input type="file" id="loopVideoFile" name="video" accept="video/*" class="file-input" required>
                        <label for="loopVideoFile" class="file-upload-label">
                            <span class="upload-icon">üé¨</span>
                            <span class="upload-text">Seleccionar Video</span>
                        </label>
                        <div class="file-info" id="loopVideoFileInfo" style="display: none;">
                            <span class="file-name"></span>
                            <span class="file-size"></span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Duraci√≥n Objetivo:</label>
                    <div class="duration-inputs">
                        <input type="number" id="targetMinutes" name="target_minutes" min="0" max="59" value="1" placeholder="MM" maxlength="2">
                        <span class="duration-separator">:</span>
                        <input type="number" id="targetSeconds" name="target_seconds" min="0" max="59" value="00" placeholder="SS" maxlength="2">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="loopQuality">Calidad:</label>
                        <select id="loopQuality" name="loop_quality">
                            <option value="4k">Ultra Alta (4K)</option>
                            <option value="1440p">Muy Alta (1440p)</option>
                            <option value="high">Alta (1080p)</option>
                            <option value="medium" selected>Media (720p)</option>
                            <option value="low">Baja (480p)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="loopTransition">Transici√≥n:</label>
                        <select id="loopTransition" name="loop_transition">
                            <option value="none">Sin Transici√≥n</option>
                            <option value="fade">Fade</option>
                            <option value="crossfade">Crossfade</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="loopFormat">Formato de Salida:</label>
                        <select id="loopFormat" name="loop_format">
                            <option value="mp4" selected>MP4</option>
                            <option value="avi">AVI</option>
                            <option value="mov">MOV</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="loopProcessingMode">Modo de Procesamiento:</label>
                        <select id="loopProcessingMode" name="loop_processing_mode">
                            <option value="auto" selected>Autom√°tico (GPU si disponible)</option>
                            <option value="gpu">Forzar GPU (RTX 3060/4070)</option>
                            <option value="cpu">Forzar CPU</option>
                        </select>
                        <small class="form-help">üí° GPU usa H.264 para compatibilidad con navegadores</small>
                    </div>
                </div>

                <!-- Loop Preview -->
                <div class="loop-preview" id="loopPreview" style="display: none;">
                    <h4>üëÅÔ∏è Vista Previa del Loop</h4>
                    <div class="preview-info">
                        <div class="preview-item">
                            <span class="preview-label">Duraci√≥n Original:</span>
                            <span class="preview-value" id="originalDuration">-</span>
                        </div>
                        <div class="preview-item">
                            <span class="preview-label">Duraci√≥n Objetivo:</span>
                            <span class="preview-value" id="targetDurationDisplay">-</span>
                        </div>
                        <div class="preview-item">
                            <span class="preview-label">Loops Necesarios:</span>
                            <span class="preview-value" id="loopsNeeded">-</span>
                        </div>
                        <div class="preview-item">
                            <span class="preview-label">Duraci√≥n Final:</span>
                            <span class="preview-value" id="finalDuration">-</span>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <span class="btn-icon">üîÑ</span>
                        Crear Loop
                    </button>
                    <button type="button" onclick="clearLoopForm()" class="btn btn-secondary">
                        <span class="btn-icon">üóëÔ∏è</span>
                        Limpiar
                    </button>
                </div>
            </form>

            <!-- Progress Section -->
            <div id="loopProgressSection" class="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="loopProgressFill"></div>
                </div>
                <div class="progress-text" id="loopProgressText">Creando loop...</div>
                <div class="processing-info" id="loopProcessingInfo" style="display: none;">
                    <div class="processing-mode">üñ•Ô∏è Modo: <span id="loopProcessingModeText"></span></div>
                    <div class="processing-time">‚è±Ô∏è Tiempo: <span id="loopProcessingTimeText">-</span></div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="loopResultsSection" class="results-section" style="display: none;">
                <div class="results-header">
                    <h3>üîÑ Loop Creado</h3>
                    <button onclick="downloadLoopVideo()" class="btn btn-success">
                        <span class="btn-icon">üíæ</span>
                        Descargar Video
                    </button>
                </div>
                <div class="results-content">
                    <div class="video-section">
                        <h4>üé• Reproducir Video</h4>
                        <div class="video-player" id="loopVideoPlayer"></div>
                    </div>
                    <div class="video-details-section">
                        <h4>üìä Detalles del Loop</h4>
                        <div class="video-details-box" id="loopVideoDetails"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Pesta√±a: Configuraci√≥n -->
<div class="tab-content" id="configuracion" data-tab="configuracion">
    <div class="card">
        <div class="card-header">
            <h2>‚öôÔ∏è Configuraci√≥n del Sistema</h2>
            <p>Configura los par√°metros del servidor y la aplicaci√≥n</p>
        </div>
        <div class="card-body">
            <form id="configForm">
                <div class="form-section">
                    <h3>üåê Configuraci√≥n del Servidor</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="configHost">Host:</label>
                            <input type="text" id="configHost" name="host" placeholder="127.0.0.1">
                        </div>
                        <div class="form-group">
                            <label for="configPort">Puerto:</label>
                            <input type="number" id="configPort" name="port" placeholder="5050" min="1000" max="65535">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="configDebug">Modo Debug:</label>
                            <select id="configDebug" name="debug">
                                <option value="true">Activado</option>
                                <option value="false">Desactivado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="configAutoReload">Auto-reload:</label>
                            <select id="configAutoReload" name="auto_reload">
                                <option value="true">Activado</option>
                                <option value="false">Desactivado</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>üåç Configuraci√≥n de Idiomas</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="configSourceLang">Idioma Fuente por Defecto:</label>
                            <select id="configSourceLang" name="default_source_lang">
                                <option value="en-US">Ingl√©s (EE.UU.)</option>
                                <option value="en-GB">Ingl√©s (Reino Unido)</option>
                                <option value="es-ES">Espa√±ol (Espa√±a)</option>
                                <option value="es-MX">Espa√±ol (M√©xico)</option>
                                <option value="fr-FR">Franc√©s</option>
                                <option value="de-DE">Alem√°n</option>
                                <option value="it-IT">Italiano</option>
                                <option value="pt-BR">Portugu√©s (Brasil)</option>
                                <option value="pt-PT">Portugu√©s (Portugal)</option>
                                <option value="ja-JP">Japon√©s</option>
                                <option value="ko-KR">Coreano</option>
                                <option value="zh-CN">Chino (Simplificado)</option>
                                <option value="zh-TW">Chino (Tradicional)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="configTargetLang">Idioma Destino por Defecto:</label>
                            <select id="configTargetLang" name="default_target_lang">
                                <option value="es">Espa√±ol</option>
                                <option value="en">Ingl√©s</option>
                                <option value="fr">Franc√©s</option>
                                <option value="de">Alem√°n</option>
                                <option value="it">Italiano</option>
                                <option value="pt">Portugu√©s</option>
                                <option value="ja">Japon√©s</option>
                                <option value="ko">Coreano</option>
                                <option value="zh">Chino</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>üé® Configuraci√≥n de Tema</h3>
                    <div class="form-group">
                        <label for="configTheme">Tema:</label>
                        <select id="configTheme" name="theme">
                            <option value="auto">Autom√°tico (Sistema)</option>
                            <option value="light">Claro</option>
                            <option value="dark">Oscuro</option>
                        </select>
                    </div>
                    <div class="theme-controls">
                        <button type="button" onclick="resetThemeDetection()" class="btn btn-secondary">
                            <span class="btn-icon">üîÑ</span>
                            Restaurar Detecci√≥n Autom√°tica
                        </button>
                        <button type="button" onclick="forceAutoTheme()" class="btn btn-secondary">
                            <span class="btn-icon">üåê</span>
                            Forzar Detecci√≥n Autom√°tica
                        </button>
                        <button type="button" onclick="clearAllThemeSettings()" class="btn btn-danger">
                            <span class="btn-icon">üóëÔ∏è</span>
                            Limpiar Todo
                        </button>
                    </div>
                </div>

                <div class="form-section">
                    <h3>‚òÅÔ∏è Google Cloud Storage</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <button type="button" onclick="viewGcsBucket()" class="btn btn-secondary">
                                <span class="btn-icon">üìÇ</span>
                                Ver Contenido del Bucket
                            </button>
                        </div>
                        <div class="form-group">
                            <button type="button" onclick="clearGcsBucket()" class="btn btn-danger">
                                <span class="btn-icon">üóëÔ∏è</span>
                                Vaciar Bucket de Google Cloud
                            </button>
                        </div>
                        <div class="form-group">
                            <span id="gcsUsageText" class="usage-text">Espacio usado: -</span>
                        </div>
                    </div>
                    <div id="gcsBucketResults" class="results-section" style="display: none;">
                        <div class="results-header">
                            <h3>üìÇ Contenido del Bucket</h3>
                        </div>
                        <div class="results-content">
                            <div id="gcsBucketList" class="transcript-box"></div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>üîê Credenciales y Variables</h3>
                    <div class="form-row controls-inline">
                        <div class="form-group">
                            <label for="credFile">Credenciales de Google (JSON):</label>
                            <input type="file" id="credFile" accept=".json">
                        </div>
                        <div class="form-group">
                            <label for="envBucket">Bucket de GCS:</label>
                            <input type="text" id="envBucket" placeholder="nombre-del-bucket">
                        </div>
                        <div class="form-group">
                            <label>&nbsp;</label>
                            <div class="preset-buttons">
                                <button type="button" id="uploadCredBtn" class="btn btn-secondary">Subir Credenciales</button>
                                <button type="button" id="updateEnvBtn" class="btn btn-primary">Actualizar .env</button>
                            </div>
                        </div>
                    </div>
                    <div class="results-section" id="credResultSection" style="display:none;">
                        <div class="results-header">
                            <h3>Resultado</h3>
                        </div>
                        <div class="results-content">
                            <div id="credResultText" class="transcript-box"></div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>üîä Configuraci√≥n de Audio</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="configAudioSampleRate">Frecuencia de Muestreo:</label>
                            <select id="configAudioSampleRate" name="audio_sample_rate">
                                <option value="8000">8 kHz</option>
                                <option value="16000" selected>16 kHz</option>
                                <option value="22050">22.05 kHz</option>
                                <option value="44100">44.1 kHz</option>
                                <option value="48000">48 kHz</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="configAudioQuality">Calidad de Audio:</label>
                            <select id="configAudioQuality" name="audio_quality">
                                <option value="optimized" selected>Optimizada</option>
                                <option value="high">Alta</option>
                                <option value="medium">Media</option>
                                <option value="low">Baja</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="configAudioChannels">Canales de Audio:</label>
                            <select id="configAudioChannels" name="audio_channels">
                                <option value="mono" selected>Mono</option>
                                <option value="stereo">Est√©reo</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="configAudioOptimization">Optimizaci√≥n de Audio:</label>
                            <select id="configAudioOptimization" name="audio_optimization">
                                <option value="dialogue" selected>Di√°logo</option>
                                <option value="music">M√∫sica</option>
                                <option value="mixed">Mixto</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <span class="btn-icon">üíæ</span>
                        Guardar Configuraci√≥n
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Pesta√±a: Gesti√≥n de Pesta√±as -->
<div class="tab-content" id="gestion-pestanas" data-tab="gestion-pestanas">
    <div class="card">
        <div class="card-header">
            <h2>üìã Gesti√≥n de Pesta√±as</h2>
            <p>Crear y administrar pesta√±as personalizadas</p>
        </div>
        <div class="card-body">
            <div class="tabs-management">
                <div class="tabs-controls">
                    <button onclick="addNewTab()" class="btn btn-primary">
                        <span class="btn-icon">‚ûï</span>
                        Nueva Pesta√±a
                    </button>
                    <button onclick="showTabTemplates()" class="btn btn-secondary">
                        <span class="btn-icon">üìã</span>
                        Ver Plantillas
                    </button>
                </div>
                
                <div class="tabs-list-section">
                    <h3>üìã Pesta√±as Actuales</h3>
                    <div id="tabsList" class="tabs-list">
                        <p>No hay pesta√±as din√°micas</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
