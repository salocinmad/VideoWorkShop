{% extends "base.html" %}

{% block content %}
<div class="tab-content active" id="subtitulos" data-tab="subtitulos">
    <div class="card">
        <div class="card-header">
            <h2>üé• Subtitular Video</h2>
            <p>Sube un video y genera subt√≠tulos autom√°ticamente con traducci√≥n</p>
        </div>
        
        <div class="card-body">
            <form id="videoForm" enctype="multipart/form-data">
                <div class="form-group">
                    <label>Seleccionar Video:</label>
                    <div class="video-upload-container">
                        <div class="video-upload-item">
                            <input type="file" id="videoFile" name="video" accept="video/*" class="video-input" required>
                            <label for="videoFile" class="video-upload-label">
                                <span class="upload-icon" data-type="video">üé¨</span>
                                <span class="upload-text">Seleccionar Video</span>
                            </label>
                            <div class="video-info" id="fileInfo" style="display: none;">
                                <span class="video-name"></span>
                                <span class="video-duration"></span>
                            </div>
                        </div>
                    </div>
                    <small class="form-text text-muted">
                        üé¨ Selecciona un archivo de video para generar subt√≠tulos autom√°ticamente
                    </small>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="sourceLang">Idioma del Video:</label>
                        <select id="sourceLang" name="source_lang">
                            <option value="en-US">Ingl√©s (EE.UU.)</option>
                            <option value="en-GB">Ingl√©s (Reino Unido)</option>
                            <option value="es-ES">Espa√±ol (Espa√±a)</option>
                            <option value="es-MX">Espa√±ol (M√©xico)</option>
                            <option value="fr-FR">Franc√©s</option>
                            <option value="de-DE">Alem√°n</option>
                            <option value="it-IT">Italiano</option>
                            <option value="pt-BR">Portugu√©s (Brasil)</option>
                            <option value="pt-PT">Portugu√©s (Portugal)</option>
                            <option value="ja-JP">Japon√©s</option>
                            <option value="ko-KR">Coreano</option>
                            <option value="zh-CN">Chino (Simplificado)</option>
                            <option value="zh-TW">Chino (Tradicional)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="targetLang">Idioma de Subt√≠tulos:</label>
                        <select id="targetLang" name="target_lang">
                            <option value="es">Espa√±ol</option>
                            <option value="en">Ingl√©s</option>
                            <option value="fr">Franc√©s</option>
                            <option value="de">Alem√°n</option>
                            <option value="it">Italiano</option>
                            <option value="pt">Portugu√©s</option>
                            <option value="ja">Japon√©s</option>
                            <option value="ko">Coreano</option>
                            <option value="zh">Chino</option>
                            <option value="ru">Ruso</option>
                            <option value="ar">√Årabe</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="audioQuality">Calidad de Audio:</label>
                        <select id="audioQuality" name="audio_quality">
                            <option value="optimized">Optimizada (16kHz)</option>
                            <option value="high">Alta (44.1kHz)</option>
                            <option value="movies">Pel√≠culas (16kHz)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="audioChannels">Configuraci√≥n de Canales:</label>
                        <select id="audioChannels" name="audio_channels">
                            <option value="mono">Mono</option>
                            <option value="stereo">Stereo</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="audioOptimization">Optimizaci√≥n:</label>
                        <select id="audioOptimization" name="audio_optimization">
                            <option value="dialogue">Di√°logo</option>
                            <option value="general">General</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="subtitleLength">Longitud de Subt√≠tulos:</label>
                        <select id="subtitleLength" name="subtitleLength">
                            <option value="short">Cortos</option>
                            <option value="medium">Medios</option>
                            <option value="long">Largos</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="subtitleDuration">Duraci√≥n de Subt√≠tulos:</label>
                        <select id="subtitleDuration" name="subtitleDuration">
                            <option value="fast">R√°pidos</option>
                            <option value="normal">Normales</option>
                            <option value="slow">Lentos</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" id="processBtn">
                        <span class="btn-icon">üöÄ</span>
                        Procesar Video
                    </button>
                </div>
            </form>

            <div id="progressSection" class="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">Iniciando procesamiento...</div>
            </div>

            <div id="resultsSection" class="results-section" style="display: none;">
                <div class="results-header">
                    <h3>‚úÖ Procesamiento Completado</h3>
                </div>
                
                <div class="results-content">
                    <div class="transcript-section">
                        <h4>üìù Transcripci√≥n Original:</h4>
                        <div class="transcript-box" id="originalTranscript"></div>
                    </div>
                    
                    <div class="transcript-section">
                        <h4>üåç Traducci√≥n:</h4>
                        <div class="transcript-box" id="translatedTranscript"></div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-success" onclick="downloadSubtitles('srt')">
                        <span class="btn-icon">üìÑ</span>
                        Descargar SRT
                    </button>
                    <button class="btn btn-success" onclick="downloadSubtitles('vtt')">
                        <span class="btn-icon">üìÑ</span>
                        Descargar VTT
                    </button>
                    <button class="btn btn-warning" onclick="clearBucket()">
                        <span class="btn-icon">üßπ</span>
                        Limpiar Bucket
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Pesta√±a de Unir Videos -->
<div class="tab-content" id="unir-videos" data-tab="unir-videos">
    <div class="card">
        <div class="card-header">
            <h2>üé¨ Unir Videos</h2>
            <p>Combina hasta 4 videos MP4 en uno solo por orden</p>
        </div>
        
        <div class="card-body">
            <form id="mergeVideosForm" enctype="multipart/form-data">
                <div class="form-group">
                    <label>Seleccionar Videos (m√°ximo 4):</label>
                    <div class="video-upload-container">
                        <div class="video-upload-item">
                            <input type="file" id="video1" name="video1" accept=".mp4" class="video-input">
                            <label for="video1" class="video-upload-label">
                                <span class="upload-icon">üìπ</span>
                                <span class="upload-text">Video 1</span>
                            </label>
                            <div class="video-info" id="video1Info" style="display: none;">
                                <span class="video-name"></span>
                                <span class="video-duration"></span>
                            </div>
                        </div>
                        
                        <div class="video-upload-item">
                            <input type="file" id="video2" name="video2" accept=".mp4" class="video-input">
                            <label for="video2" class="video-upload-label">
                                <span class="upload-icon">üìπ</span>
                                <span class="upload-text">Video 2</span>
                            </label>
                            <div class="video-info" id="video2Info" style="display: none;">
                                <span class="video-name"></span>
                                <span class="video-duration"></span>
                            </div>
                        </div>
                        
                        <div class="video-upload-item">
                            <input type="file" id="video3" name="video3" accept=".mp4" class="video-input">
                            <label for="video3" class="video-upload-label">
                                <span class="upload-icon">üìπ</span>
                                <span class="upload-text">Video 3</span>
                            </label>
                            <div class="video-info" id="video3Info" style="display: none;">
                                <span class="video-name"></span>
                                <span class="video-duration"></span>
                            </div>
                        </div>
                        
                        <div class="video-upload-item">
                            <input type="file" id="video4" name="video4" accept=".mp4" class="video-input">
                            <label for="video4" class="video-upload-label">
                                <span class="upload-icon">üìπ</span>
                                <span class="upload-text">Video 4</span>
                            </label>
                            <div class="video-info" id="video4Info" style="display: none;">
                                <span class="video-name"></span>
                                <span class="video-duration"></span>
                            </div>
                        </div>
                    </div>
                    <small class="form-text text-muted">
                        üìπ Selecciona hasta 4 videos MP4. Se unir√°n en el orden que los selecciones.
                    </small>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="outputQuality">Calidad de Salida:</label>
                        <select id="outputQuality" name="output_quality">
                            <option value="high">Alta Calidad (1080p)</option>
                            <option value="medium" selected>Calidad Media (720p)</option>
                            <option value="low">Calidad Baja (480p)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="outputFormat">Formato de Salida:</label>
                        <select id="outputFormat" name="output_format">
                            <option value="mp4" selected>MP4 (Recomendado)</option>
                            <option value="avi">AVI</option>
                            <option value="mov">MOV</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="transitionType">Tipo de Transici√≥n:</label>
                    <select id="transitionType" name="transition_type">
                        <option value="none" selected>Sin Transici√≥n (Corte directo)</option>
                        <option value="fade">Fundido (Fade)</option>
                        <option value="crossfade">Cruzado (Crossfade)</option>
                    </select>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" id="mergeBtn">
                        <span class="btn-icon">üé¨</span>
                        Unir Videos
                    </button>
                    <button type="button" class="btn btn-secondary" id="clearVideosBtn">
                        <span class="btn-icon">üóëÔ∏è</span>
                        Limpiar Selecci√≥n
                    </button>
                </div>
            </form>

            <div id="mergeProgressSection" class="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="mergeProgressFill"></div>
                </div>
                <div class="progress-text" id="mergeProgressText">Procesando videos...</div>
            </div>

            <div id="mergeResultsSection" class="results-section" style="display: none;">
                <div class="results-header">
                    <h3>‚úÖ Videos Unidos Exitosamente</h3>
                </div>
                
                <div class="results-content">
                    <div class="video-preview">
                        <h4>üé¨ Video Resultante:</h4>
                        <div class="video-player" id="mergedVideoPlayer"></div>
                    </div>
                    
                    <div class="video-details">
                        <h4>üìä Detalles del Video:</h4>
                        <div class="video-details-box" id="videoDetailsBox"></div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-success" onclick="downloadMergedVideo()">
                        <span class="btn-icon">üíæ</span>
                        Descargar Video
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Pesta√±a de Loop de Video -->
<div class="tab-content" id="loop-video" data-tab="loop-video">
    <div class="card">
        <div class="card-header">
            <h2>üîÑ Loop de Video</h2>
            <p>Repite un video hasta alcanzar la duraci√≥n deseada</p>
        </div>
        
        <div class="card-body">
            <form id="loopVideoForm" enctype="multipart/form-data">
                <div class="form-group">
                    <label>Seleccionar Video:</label>
                    <div class="video-upload-container">
                        <div class="video-upload-item">
                            <input type="file" id="loopVideoFile" name="video" accept="video/*" class="video-input" required>
                            <label for="loopVideoFile" class="video-upload-label">
                                <span class="upload-icon" data-type="video">üé¨</span>
                                <span class="upload-text">Seleccionar Video</span>
                            </label>
                            <div class="video-info" id="loopVideoInfo" style="display: none;">
                                <span class="video-name"></span>
                                <span class="video-duration"></span>
                            </div>
                        </div>
                    </div>
                    <small class="form-text text-muted">
                        üé¨ Selecciona un video para crear un loop con la duraci√≥n deseada
                    </small>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="targetDuration">Duraci√≥n Objetivo:</label>
                        <div class="duration-input-group">
                            <input type="number" id="targetMinutes" name="target_minutes" min="0" max="59" value="1" placeholder="Minutos">
                            <span class="duration-separator">:</span>
                            <input type="number" id="targetSeconds" name="target_seconds" min="0" max="59" value="0" placeholder="Segundos">
                        </div>
                        <small class="form-text text-muted">
                            ‚è±Ô∏è Duraci√≥n total que tendr√° el video con loop
                        </small>
                    </div>
                    
                    <div class="form-group">
                        <label for="loopQuality">Calidad de Salida:</label>
                        <select id="loopQuality" name="loop_quality">
                            <option value="high">Alta Calidad (1080p)</option>
                            <option value="medium" selected>Calidad Media (720p)</option>
                            <option value="low">Calidad Baja (480p)</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="loopTransition">Transici√≥n entre Loops:</label>
                        <select id="loopTransition" name="loop_transition">
                            <option value="none" selected>Sin Transici√≥n (Corte directo)</option>
                            <option value="fade">Fundido (Fade)</option>
                            <option value="crossfade">Cruzado (Crossfade)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="loopFormat">Formato de Salida:</label>
                        <select id="loopFormat" name="loop_format">
                            <option value="mp4" selected>MP4 (Recomendado)</option>
                            <option value="avi">AVI</option>
                            <option value="mov">MOV</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="loopPreview">Vista Previa del Loop:</label>
                    <div class="loop-preview" id="loopPreview" style="display: none;">
                        <div class="preview-info">
                            <div class="preview-item">
                                <span class="preview-label">Duraci√≥n Original:</span>
                                <span class="preview-value" id="originalDuration">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Duraci√≥n Objetivo:</span>
                                <span class="preview-value" id="targetDurationDisplay">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Loops Necesarios:</span>
                                <span class="preview-value" id="loopsNeeded">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Duraci√≥n Final:</span>
                                <span class="preview-value" id="finalDuration">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" id="createLoopBtn">
                        <span class="btn-icon">üîÑ</span>
                        Crear Loop
                    </button>
                    <button type="button" class="btn btn-secondary" id="clearLoopBtn">
                        <span class="btn-icon">üóëÔ∏è</span>
                        Limpiar
                    </button>
                </div>
            </form>

            <div id="loopProgressSection" class="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="loopProgressFill"></div>
                </div>
                <div class="progress-text" id="loopProgressText">Creando loop...</div>
            </div>

            <div id="loopResultsSection" class="results-section" style="display: none;">
                <div class="results-header">
                    <h3>‚úÖ Loop Creado Exitosamente</h3>
                </div>
                
                <div class="results-content">
                    <div class="video-section">
                        <h4>üé¨ Video con Loop:</h4>
                        <div class="video-player" id="loopVideoPlayer"></div>
                    </div>
                    
                    <div class="video-details">
                        <h4>üìä Detalles del Video:</h4>
                        <div class="details-grid" id="loopVideoDetails"></div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-success" onclick="downloadLoopVideo()">
                        <span class="btn-icon">üíæ</span>
                        Descargar Video
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="tab-content" id="configuracion" data-tab="configuracion">
    <div class="card">
        <div class="card-header">
            <h2>‚öôÔ∏è Configuraci√≥n del Sistema</h2>
            <p>Configura los par√°metros del servidor y la aplicaci√≥n</p>
        </div>
        
        <div class="card-body">
            <form id="configForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="configHost">Host:</label>
                        <input type="text" id="configHost" name="host" placeholder="127.0.0.1">
                    </div>
                    
                    <div class="form-group">
                        <label for="configPort">Puerto:</label>
                        <input type="number" id="configPort" name="port" placeholder="5050" min="1000" max="65535">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="configDebug">Modo Debug:</label>
                        <select id="configDebug" name="debug">
                            <option value="true">Activado</option>
                            <option value="false">Desactivado</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="configAutoReload">Auto-reload:</label>
                        <select id="configAutoReload" name="auto_reload">
                            <option value="true">Activado</option>
                            <option value="false">Desactivado</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="configSourceLang">Idioma Origen por Defecto:</label>
                        <select id="configSourceLang" name="default_source_lang">
                            <option value="en-US">Ingl√©s (EE.UU.)</option>
                            <option value="en-GB">Ingl√©s (Reino Unido)</option>
                            <option value="es-ES">Espa√±ol (Espa√±a)</option>
                            <option value="es-MX">Espa√±ol (M√©xico)</option>
                            <option value="fr-FR">Franc√©s</option>
                            <option value="de-DE">Alem√°n</option>
                            <option value="it-IT">Italiano</option>
                            <option value="pt-BR">Portugu√©s (Brasil)</option>
                            <option value="pt-PT">Portugu√©s (Portugal)</option>
                            <option value="ja-JP">Japon√©s</option>
                            <option value="ko-KR">Coreano</option>
                            <option value="zh-CN">Chino (Simplificado)</option>
                            <option value="zh-TW">Chino (Tradicional)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="configTargetLang">Idioma Destino por Defecto:</label>
                        <select id="configTargetLang" name="default_target_lang">
                            <option value="es">Espa√±ol</option>
                            <option value="en">Ingl√©s</option>
                            <option value="fr">Franc√©s</option>
                            <option value="de">Alem√°n</option>
                            <option value="it">Italiano</option>
                            <option value="pt">Portugu√©s</option>
                            <option value="ja">Japon√©s</option>
                            <option value="ko">Coreano</option>
                            <option value="zh">Chino</option>
                            <option value="ru">Ruso</option>
                            <option value="ar">√Årabe</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="configTheme">Tema:</label>
                        <select id="configTheme" name="theme">
                            <option value="auto">Autom√°tico (Sistema)</option>
                            <option value="light">Claro</option>
                            <option value="dark">Oscuro</option>
                        </select>
                        <small class="form-text text-muted">
                            üé® "Autom√°tico" detecta el tema seg√∫n la configuraci√≥n de tu sistema operativo
                        </small>
                        <div style="margin-top: 10px;">
                            <button type="button" class="btn btn-sm btn-outline-primary" onclick="forceAutoTheme()">
                                üîÑ Forzar Detecci√≥n Autom√°tica
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-warning" onclick="clearAllThemeSettings()">
                                üßπ Limpiar Todo
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="console.log('Sistema prefiere oscuro:', window.matchMedia('(prefers-color-scheme: dark)').matches); console.log('Tema actual:', document.documentElement.getAttribute('data-theme')); console.log('Tema guardado:', localStorage.getItem('theme')); console.log('Usuario cambi√≥:', localStorage.getItem('userChangedTheme'));">
                                üîç Debug Tema
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="configAudioSampleRate">Frecuencia de Audio:</label>
                        <select id="configAudioSampleRate" name="audio_sample_rate">
                            <option value="16000">16 kHz (Optimizada)</option>
                            <option value="44100">44.1 kHz (Alta Calidad)</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="configAudioQuality">Calidad de Audio:</label>
                        <select id="configAudioQuality" name="audio_quality">
                            <option value="optimized">Optimizada</option>
                            <option value="high">Alta</option>
                            <option value="movies">Pel√≠culas</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="configAudioChannels">Canales de Audio:</label>
                        <select id="configAudioChannels" name="audio_channels">
                            <option value="mono">Mono</option>
                            <option value="stereo">Stereo</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="configAudioOptimization">Optimizaci√≥n de Audio:</label>
                        <select id="configAudioOptimization" name="audio_optimization">
                            <option value="dialogue">Di√°logo</option>
                            <option value="general">General</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <span class="btn-icon">üíæ</span>
                        Guardar Configuraci√≥n
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="restartServer()">
                        <span class="btn-icon">üîÑ</span>
                        Reiniciar Servidor
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="tab-content" id="texto-audio" data-tab="texto-audio">
    <div class="card">
        <div class="card-header">
            <h2>üîä Texto a Audio</h2>
            <p>Convierte documentos de texto a audio usando Google Text-to-Speech</p>
        </div>
        
        <div class="card-body">
            <form id="textToAudioForm" enctype="multipart/form-data">
                           <div class="form-group">
                               <label>Seleccionar Archivo TXT:</label>
                               <div class="video-upload-container">
                                   <div class="video-upload-item">
                                       <input type="file" id="textFile" name="text_file" accept=".txt" class="video-input" required>
                                       <label for="textFile" class="video-upload-label">
                                           <span class="upload-icon" data-type="text">üìÑ</span>
                                           <span class="upload-text">Seleccionar TXT</span>
                                       </label>
                                       <div class="video-info" id="textFileInfo" style="display: none;">
                                           <span class="video-name"></span>
                                           <span class="video-duration"></span>
                                       </div>
                                   </div>
                               </div>
                               <small class="form-text text-muted">
                                   üìÑ Sin l√≠mite de tama√±o - archivos grandes se procesan con Google Long Audio API
                               </small>
                           </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="voiceLanguage">Idioma de la Voz:</label>
                        <select id="voiceLanguage" name="voice_language">
                            <option value="es-ES">Espa√±ol (Espa√±a)</option>
                            <option value="es-MX">Espa√±ol (M√©xico)</option>
                            <option value="en-US">Ingl√©s (EE.UU.)</option>
                            <option value="en-GB">Ingl√©s (Reino Unido)</option>
                            <option value="fr-FR">Franc√©s</option>
                            <option value="de-DE">Alem√°n</option>
                            <option value="it-IT">Italiano</option>
                            <option value="pt-BR">Portugu√©s (Brasil)</option>
                            <option value="ja-JP">Japon√©s</option>
                            <option value="ko-KR">Coreano</option>
                            <option value="zh-CN">Chino (Simplificado)</option>
                        </select>
                    </div>
                    
                               <div class="form-group">
                                   <label for="voiceName">Tipo de Voz:</label>
                                   <select id="voiceName" name="voice_name">
                                       {% include 'voice_options.html' %}
                                   </select>
                                   <small class="form-text text-muted">
                                       ‚≠ê Neural2: M√°s expresiva y natural | ‚≠ê‚≠ê WaveNet: Muy expresiva y de alta calidad
                                   </small>
                               </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="audioFormat">Formato de Audio:</label>
                        <select id="audioFormat" name="audio_format">
                            <option value="MP3">MP3 (Recomendado)</option>
                            <option value="WAV">WAV (Alta Calidad)</option>
                            <option value="OGG_OPUS">OGG Opus</option>
                            <option value="FLAC">FLAC (Sin P√©rdida)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="speakingRate">Velocidad de Habla:</label>
                        <select id="speakingRate" name="speaking_rate">
                            <option value="0.8">Lenta (0.8x)</option>
                            <option value="1.0" selected>Normal (1.0x)</option>
                            <option value="1.2">R√°pida (1.2x)</option>
                            <option value="1.4">Muy R√°pida (1.4x)</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="pitch">Tono de Voz:</label>
                        <select id="pitch" name="pitch">
                            <option value="-10.0">Muy Grave</option>
                            <option value="-5.0">Grave</option>
                            <option value="0.0" selected>Normal</option>
                            <option value="5.0">Agudo</option>
                            <option value="10.0">Muy Agudo</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="volumeGainDb">Volumen:</label>
                        <select id="volumeGainDb" name="volume_gain_db">
                            <option value="-5.0">Bajo</option>
                            <option value="0.0" selected>Normal</option>
                            <option value="5.0">Alto</option>
                            <option value="10.0">Muy Alto</option>
                        </select>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary" id="convertBtn">
                        <span class="btn-icon">üîä</span>
                        Convertir a Audio
                    </button>
                </div>
            </form>

            <div id="textProgressSection" class="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="textProgressFill"></div>
                </div>
                <div class="progress-text" id="textProgressText">Procesando texto...</div>
            </div>

            <div id="textResultsSection" class="results-section" style="display: none;">
                <div class="results-header">
                    <h3>‚úÖ Conversi√≥n Completada</h3>
                </div>
                
                <div class="results-content">
                    <div class="audio-section">
                        <h4>üéµ Audio Generado:</h4>
                        <div class="audio-player" id="audioPlayer"></div>
                    </div>
                    
                    <div class="text-preview">
                        <h4>üìÑ Texto Procesado:</h4>
                        <div class="text-preview-box" id="textPreview"></div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-success" onclick="downloadAudio()">
                        <span class="btn-icon">üíæ</span>
                        Descargar Audio
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="tab-content" id="gestion-pestanas" data-tab="gestion-pestanas">
    <div class="card">
        <div class="card-header">
            <h2>üìã Gesti√≥n de Pesta√±as</h2>
            <p>Crear y administrar pesta√±as personalizadas</p>
        </div>
        
        <div class="card-body">
            <div class="form-actions">
                <button type="button" class="btn btn-primary" onclick="addNewTab()">
                    <span class="btn-icon">‚ûï</span>
                    Crear Nueva Pesta√±a
                </button>
                <button type="button" class="btn btn-info" onclick="showTabTemplates()">
                    <span class="btn-icon">üìÑ</span>
                    Ver Templates
                </button>
            </div>
            
            <div class="tabs-info">
                <h3>Pesta√±as Actuales:</h3>
                <div id="currentTabsList" class="tabs-list">
                    <!-- Se llenar√° din√°micamente -->
                </div>
            </div>
        </div>
    </div>
</div>

<div id="notification" class="notification"></div>
{% endblock %}
